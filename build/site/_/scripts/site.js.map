{"version":3,"sources":["scripts/03-page-version-selector.js","scripts/04-page.js","scripts/05-sidr-menu.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"scripts/site.js","sourcesContent":["(() => {\n  'use strict';\n\n  const toggles = document.querySelectorAll('.js-version');\n  for (let i = 0; i < toggles.length; i++) {\n    toggles[i].addEventListener('click', (e) => e.stopPropagation());\n    toggles[i].addEventListener('change', (e) => window.location.href = e.target.value);\n  };\n})();\n","(function() {\n  'use strict';\n\n  var sidebar = document.querySelector(\n    'main .article-wrapper > aside.toc-sidebar'\n  );\n\n  if (!sidebar) return;\n  var doc;\n  var headings;\n  if (\n    document.querySelector('.body.ui-toc') ||\n    !(headings = find(\n      'h1[id].sect0, .sect1 > h2[id]',\n      (doc = document.querySelector('article.doc'))\n    )).length\n  ) {\n    sidebar.parentNode.removeChild(sidebar);\n    return;\n  }\n  var lastActiveFragment;\n  var links = {};\n  var menu;\n\n  var list = headings.reduce(function(accum, heading) {\n    var shds = toArray(find('h3', heading.parentNode));\n    var $shdsList = document.createElement('ul');\n    $shdsList.classList.add('subheading-list');\n\n    function createLink(heading) {\n      const link = toArray(heading.childNodes).reduce(function(target, child) {\n        if (child.nodeName !== 'A') target.appendChild(child.cloneNode(true));\n        return target;\n      }, document.createElement('a'));\n\n      links[(link.href = '#' + heading.id)] = link;\n      return link;\n    }\n\n    shds.map((n) => {\n      var $shdItem = document.createElement('li');\n      $shdItem.classList.add('subheading-item');\n      var $shdLink = createLink(n);\n      $shdItem.appendChild($shdLink);\n      $shdsList.appendChild($shdItem);\n    });\n\n    var link = createLink(heading);\n\n    var listItem = document.createElement('li');\n    listItem.appendChild(link);\n\n    if (shds.length) {\n      listItem.appendChild($shdsList);\n    }\n\n    accum.appendChild(listItem);\n    return accum;\n  }, document.createElement('ul'));\n\n  if (!(menu = sidebar && sidebar.querySelector('.toc-menu'))) {\n    menu = document.createElement('div');\n    menu.className = 'toc-menu';\n  }\n\n  var title = document.createElement('h3');\n  title.classList.add('toc-title');\n  // title.textContent = 'On This Page';\n  var elTitle = document.querySelector('main .article-wrapper h1');\n  title.textContent = elTitle.textContent;\n  menu.appendChild(title);\n  menu.appendChild(list);\n\n  if (sidebar) {\n    window.addEventListener('load', function() {\n      onScroll();\n      window.addEventListener('scroll', onScroll);\n    });\n  }\n\n  var startOfContent = doc.querySelector('h1.page ~ :not(.labels)');\n  if (startOfContent) {\n    var embeddedToc = document.createElement('aside');\n    embeddedToc.className = 'toc embedded';\n    embeddedToc.appendChild(menu.cloneNode(true));\n    doc.insertBefore(embeddedToc, startOfContent);\n  }\n\n  function onScroll() {\n    // NOTE doc.parentNode.offsetTop ~= doc.parentNode.getBoundingClientRect().top + window.pageYOffset\n    //var targetPosition = doc.parentNode.offsetTop\n    // NOTE no need to compensate wheen using spacer above [id] elements\n\n    var headings = find(\n      'h1[id].sect0, .sect1 > h2[id], .sect2 > h3[id]',\n      (doc = document.querySelector('article.doc'))\n    );\n\n    var targetPosition = 0;\n    var activeFragment;\n    headings.some(function(heading) {\n      if (Math.floor(heading.getBoundingClientRect().top) <= targetPosition) {\n        activeFragment = '#' + heading.id;\n      } else {\n        return true;\n      }\n    });\n    if (activeFragment) {\n      if (activeFragment !== lastActiveFragment) {\n        if (lastActiveFragment) {\n          links[lastActiveFragment].classList.remove('toc-active');\n        }\n        var activeLink = links[activeFragment];\n        activeLink.classList.add('toc-active');\n        if (menu.scrollHeight > menu.offsetHeight) {\n          menu.scrollTop = Math.max(\n            0,\n            activeLink.offsetTop + activeLink.offsetHeight - menu.offsetHeight\n          );\n        }\n        lastActiveFragment = activeFragment;\n      }\n    } else if (lastActiveFragment) {\n      links[lastActiveFragment].classList.remove('toc-active');\n      lastActiveFragment = undefined;\n    }\n  }\n\n  function find(selector, from) {\n    return toArray((from || document).querySelectorAll(selector));\n  }\n\n  function toArray(collection) {\n    return [].slice.call(collection);\n  }\n})();\n","(function () {\n  'use strict'\n\n  var sidrToggle = document.querySelector('.sidr-toggle'),\n    sidrPanel = document.querySelector('#sidr'),\n    mainContent = document.querySelector('.main'),\n    closeMenuButton = document.querySelector('.close-menu-btn')\n\n\n  sidrToggle.addEventListener('click', function (e) {\n    openNav()\n    sidrPanel.classList.toggle('active')\n  })\n\n  closeMenuButton.addEventListener('click', function (e) {\n    closeNav()\n    sidrPanel.classList.toggle('active')\n  })\n\n  function openNav() {\n    sidrPanel.style.minWidth = '100vw';\n    mainContent.style.display = 'none';\n  }\n\n  function closeNav() {\n    sidrPanel.style.minWidth = '0';\n    mainContent.style.display = 'block';\n  }\n\n  var collapseToggles = document.querySelectorAll('.collapse-toggle')\n\n  collapseToggles.forEach(function (o) {\n    o.addEventListener('click', function (e) {\n      this.classList.toggle('active')\n    })\n  })\n})()\n"]}